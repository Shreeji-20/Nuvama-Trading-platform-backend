INFO:     Will watch for changes in these directories: ['/workspace/Nuvama-Trading-platform-backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [11484] using StatReload
/workspace/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [11488]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
âœ… Redis connection established
INFO:     172.17.0.1:55452 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:55452 - "GET /stratergy/stratergy_1 HTTP/1.1" 200 OK
INFO:     172.17.0.1:55452 - "GET /advanced-options HTTP/1.1" 200 OK
INFO:     172.17.0.1:55452 - "GET /spreads HTTP/1.1" 200 OK
INFO:     172.17.0.1:47948 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:47948 - "GET /stratergy/stratergy_1 HTTP/1.1" 200 OK
INFO:     172.17.0.1:47948 - "GET /advanced-options HTTP/1.1" 200 OK
INFO:     172.17.0.1:47948 - "GET /spreads HTTP/1.1" 200 OK
INFO:     172.17.0.1:32806 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:32806 - "GET /stratergy/stratergy_1 HTTP/1.1" 200 OK
INFO:     172.17.0.1:32806 - "GET /advanced-options HTTP/1.1" 200 OK
INFO:     172.17.0.1:32806 - "GET /spreads HTTP/1.1" 200 OK
INFO:     172.17.0.1:44046 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:44046 - "GET /stratergy/stratergy_1 HTTP/1.1" 200 OK
INFO:     172.17.0.1:44046 - "GET /advanced-options HTTP/1.1" 200 OK
INFO:     172.17.0.1:44046 - "GET /spreads HTTP/1.1" 200 OK
INFO:     172.17.0.1:52362 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:52362 - "GET /stratergy/stratergy_1 HTTP/1.1" 200 OK
INFO:     172.17.0.1:52362 - "GET /advanced-options HTTP/1.1" 200 OK
INFO:     172.17.0.1:52362 - "GET /spreads HTTP/1.1" 200 OK
INFO:     172.17.0.1:52362 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:43890 - "OPTIONS /userlogin HTTP/1.1" 200 OK
ğŸš€ Starting login process for user: 70249886
ğŸ” Attempting web login for user: 70249886
ğŸ” Fetching user data for: 70249886
âœ… User data retrieved for: 70249886
ğŸŒ Initializing web login for: 70249886
ğŸ” Starting Nuvama web login for: 70249886
ğŸš€ Starting Nuvama login for: 70249886
âœ… Chrome WebDriver initialized successfully
ğŸ”„ Step 1: Submitting UserID: 70249886
ğŸŒ Navigating to: https://www.nuvamawealth.com/api-connect/login?api_key=iBe07GpBTEbbhg
âœ… UserID filled: 70249886
âœ… Proceed button clicked for UserID step
ï¿½ Step 2: Submitting password and TOTP
âœ… Password filled
âœ… Found 6 TOTP fields
ğŸ“± Generating TOTP using pyotp...
âœ… Using TOTP secret from initialization
âœ… TOTP generated successfully: 950349
âœ… TOTP filled: 950349
âœ… Final proceed button clicked
ğŸ” Waiting for redirect and extracting auth token...
âœ… Redirect detected: https://127.0.0.1/?request_id=356666ce6af3b0ef
ğŸ‰ Auth token extracted: 356666ce6af3b0ef
ğŸ’¾ Token saved to nuvama_token_simple.json
ğŸ‰ Login completed successfully!
ğŸ§¹ Browser closed
âœ… Web login successful, reqid: 356666ce6af3b0ef
ğŸ”§ Initializing API connection for: 70249886
ğŸ’¾ Storing reqid in Redis for: 70249886
ğŸ‰ Login successful for user_id: 70249886
âœ… Web login successful for user: 70249886
ğŸ”„ Launching order streaming for user: 70249886
âœ… Order streaming launched for user: 70249886
âœ… Central socket data launched for user: 70249886
ğŸ‰ Login process completed successfully for user: 70249886
INFO:     172.17.0.1:43890 - "POST /userlogin HTTP/1.1" 200 OK
INFO:     172.17.0.1:43890 - "OPTIONS /user HTTP/1.1" 200 OK
Req Received :  userid='70249886' apikey='iBe07GpBTEbbhg' apisecret='PhIf&g9m*0C7sQfm' totp_secret='ZIXY5ERK4DJGN6TMRA6VYDDKMYSNJZBN' lastLogin='9/10/2025, 9:16:46 AM' password='Shreeji@2063'
INFO:     172.17.0.1:43890 - "POST /user HTTP/1.1" 200 OK
INFO:     172.17.0.1:56056 - "GET /advanced-options HTTP/1.1" 200 OK
INFO:     172.17.0.1:56066 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:46366 - "GET /users HTTP/1.1" 200 OK
INFO:     172.17.0.1:46380 - "GET /orders HTTP/1.1" 200 OK
INFO:     172.17.0.1:46366 - "GET /orders HTTP/1.1" 200 OK
INFO:     172.17.0.1:46366 - "GET /orders HTTP/1.1" 200 OK
INFO:     172.17.0.1:46366 - "GET /orders HTTP/1.1" 200 OK
